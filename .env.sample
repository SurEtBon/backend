# =============================================================================
# SûrEtBon Backend Environment Configuration
# =============================================================================
# Version:     0.0.1
# Purpose:     Define environment-specific configuration for backend services
# Security:    Contains sensitive credentials - NEVER commit to version control
# Usage:       Copy this file to .env and populate with your values
#
# File Permissions:
#   Recommended: chmod 600 .env (read/write for owner only)
#   Never use:   chmod 777 or similar permissive settings
#
# Validation:
#   All values are validated by scripts before use.
#   Invalid configurations will cause immediate failure with clear error messages.
# =============================================================================

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================

# -----------------------------------------------------------------------------
# SUPABASE_URL
# -----------------------------------------------------------------------------
# Classification: INTERNAL (Safe to expose in client applications)
# Purpose:       Base URL for Supabase API endpoints
# Format:        https://<project-ref>.supabase.co
# Validation:    Must be valid HTTPS URL ending in .supabase.co
# Example:       https://abcdefghijklmnop.supabase.co
#
# To obtain:
#   1. Create project: supabase projects create <name>
#   2. Note the project reference ID shown
#   3. Construct URL: https://<ref-id>.supabase.co
#
# Troubleshooting:
#   - Ensure HTTPS protocol (not HTTP)
#   - Verify project is active (not paused)
#   - Check network connectivity to supabase.co
#
SUPABASE_URL=

# -----------------------------------------------------------------------------
# SUPABASE_SERVICE_ROLE_KEY
# -----------------------------------------------------------------------------
# Classification: SECRET (CRITICAL - Never expose publicly)
# Purpose:       Administrative access key with elevated privileges
# Format:        JWT token (long alphanumeric string)
# Validation:    Must be valid JWT with service_role claim
# Length:        ~200-300 characters
#
# Security Requirements:
#   ⚠️  NEVER expose in client-side code
#   ⚠️  NEVER commit to version control
#   ⚠️  NEVER share in logs or error messages
#   ✓  Use only in server-side/backend code
#
# To obtain:
#   1. Run: supabase projects api-keys --project-ref <project-ref>
#   2. Copy the "service_role" key (NOT the "anon" key)
#
# Example format (DO NOT USE):
#   eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.KMUFsIDTnFmyG3nMiGM6H9FNFUROf3wh7SmqJp-QV30
#
# Troubleshooting:
#   - Ensure you're using service_role, not anon key
#
SUPABASE_SERVICE_ROLE_KEY=

# -----------------------------------------------------------------------------
# SUPABASE_DB_URI
# -----------------------------------------------------------------------------
# Classification: SECRET (Contains database password)
# Purpose:       PostgreSQL connection string for direct database access
# Format:        <user>:<password>@<host>:<port>/<database>
# Validation:    Must be valid PostgreSQL URI components
#
# ⚠️  IMPORTANT: Do NOT include the "postgresql://" prefix
#     SQLAlchemy will add the appropriate prefix automatically
#
# To obtain:
#   1. Navigate to: https://supabase.com/dashboard/project/<project-ref>
#   2. Click "Connect" button or append ?showConnect=true to URL
#   3. Select "Session pooler" for connection pooling (recommended)
#   4. Copy the connection string shown
#   5. REMOVE the "postgresql://" prefix before pasting here
#
# Format breakdown:
#   postgres.<project-ref>:[YOUR-PASSWORD]@aws-1-eu-west-3.pooler.supabase.com:5432/postgres
#   └─ username ─┘└─ ref ─┘ └─ password ─┘ └────────── host ─────────────────┘└port┘└─ db ─┘
#
# Example (with dummy values):
#   postgres.abcdefghijklmnop:MySecureP@ssw0rd!@aws-0-us-east-1.pooler.supabase.com:5432/postgres
#
# Security notes:
#   - Password should be 16+ characters with mixed case, numbers, symbols
#   - Monitor for unusual connection patterns
#
SUPABASE_DB_URI=

# =============================================================================
# VALIDATION RULES
# =============================================================================
# The following regex patterns are used to validate configuration:
#
# SUPABASE_URL:
#   Pattern: ^https://[a-z0-9]{20}\.supabase\.co$
#   Example: https://abcdefghijklmnopqrst.supabase.co
#
# SUPABASE_SERVICE_ROLE_KEY:
#   Pattern: ^eyJ[A-Za-z0-9_-]+\.[A-Za-z0-9_-]+\.[A-Za-z0-9_-]+$
#   Note: Standard JWT format with three base64url segments
#
# SUPABASE_DB_URI:
#   Pattern: ^[^:]+:[^@]+@[^:]+:\d+/\w+$
#   Note: Basic PostgreSQL connection string validation
#
# =============================================================================
# END OF CONFIGURATION
# =============================================================================